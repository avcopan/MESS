[workspace]
channels = ["conda-forge", "Auto-Mech"]
platforms = ["linux-64"]
preview = ["pixi-build"]                                  

[dependencies] 
mess = { path = "." }

[package] 
name = "mess"
version = "2.10.27"

[package.build]
backend = { name = "pixi-build-cmake", version = "0.3.*" }

[package.build.config]
extra-args = [
    "-DCMAKE_BUILD_TYPE=Debug",
    "-DMKL_INTERFACE=ilp64",
    "-DMKL_THREADING=intel_thread",
    "-DMKL_LINK=dynamic",
    "-DMKL_DIR=$PREFIX",
    "-DBLA_VENDOR=Intel10_64ilp",
    "-DBLA_SIZEOF_INTEGER=8",
    "-DBLA_THREAD=OMP",
    "-DBLAS_LIBRARIES=$PREFIX/lib/libmkl_intel_ilp64.so",
    "-DLAPACK_LIBRARIES=$PREFIX/lib/libmkl_intel_ilp64.so",
    "-DGSL_WITH_CBLAS=OFF"
]

[package.build-dependencies]
fortran-compiler = "*"

[package.host-dependencies]
mkl-include = "*"
mkl-devel = "*"
mkl = "*"
slatec = "*"
gsl = "*"
gdb = "*"

[package.run-dependencies]
slatec = "*"
gdb = "*"
